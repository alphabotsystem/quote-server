FROM python:latest
WORKDIR /app

# Install dependencies
COPY ./build/requirements.txt ./
RUN pip install -r ./requirements.txt
RUN git clone https://github.com/alphabotsystem/dependencies.git && cd ./dependencies && git checkout v1.10.2
RUN pip install ./dependencies/py/parser
RUN rm -r ./dependencies

# Copy source code
COPY ./app ./

# Run
ENTRYPOINT ["python", "quote_server.py"]